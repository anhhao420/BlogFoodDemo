{"ast":null,"code":"import _regeneratorRuntime from\"D:/CNPM/NodeJS/TaiLieu/youtube-mern-blog-app/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/CNPM/NodeJS/TaiLieu/youtube-mern-blog-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{useContext,useRef}from\"react\";import{Link}from\"react-router-dom\";import{Context}from\"../../context/Context\";import\"./login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var userRef=useRef();var passwordRef=useRef();var _useContext=useContext(Context),dispatch=_useContext.dispatch,isFetching=_useContext.isFetching;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();dispatch({type:\"LOGIN_START\"});_context.prev=2;_context.next=5;return axios.post(\"/auth/login\",{username:userRef.current.value,password:passwordRef.current.value});case 5:res=_context.sent;dispatch({type:\"LOGIN_SUCCESS\",payload:res.data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);dispatch({type:\"LOGIN_FAILURE\"});case 12:case\"end\":return _context.stop();}},_callee,null,[[2,9]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"loginTitle\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"loginForm\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"loginInput\",placeholder:\"Enter your username...\",ref:userRef}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"loginInput\",placeholder:\"Enter your password...\",ref:passwordRef}),/*#__PURE__*/_jsx(\"button\",{className:\"loginButton\",type:\"submit\",disabled:isFetching,children:\"Login\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"loginRegisterButton\",children:/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/register\",children:\"Register\"})})]});}","map":{"version":3,"names":["axios","useContext","useRef","Link","Context","jsx","_jsx","jsxs","_jsxs","Login","userRef","passwordRef","_useContext","dispatch","isFetching","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","res","wrap","_callee$","_context","prev","next","preventDefault","type","post","username","current","value","password","sent","payload","data","t0","stop","_x","apply","arguments","className","children","onSubmit","placeholder","ref","disabled","to"],"sources":["D:/CNPM/NodeJS/TaiLieu/youtube-mern-blog-app/client/src/pages/login/Login.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useContext, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Context } from \"../../context/Context\";\nimport \"./login.css\";\n\nexport default function Login() {\n  const userRef = useRef();\n  const passwordRef = useRef();\n  const { dispatch, isFetching } = useContext(Context);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    dispatch({ type: \"LOGIN_START\" });\n    try {\n      const res = await axios.post(\"/auth/login\", {\n        username: userRef.current.value,\n        password: passwordRef.current.value,\n      });\n      dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\n    } catch (err) {\n      dispatch({ type: \"LOGIN_FAILURE\" });\n    }\n  };\n\n  return (\n    <div className=\"login\">\n      <span className=\"loginTitle\">Login</span>\n      <form className=\"loginForm\" onSubmit={handleSubmit}>\n        <label>Username</label>\n        <input\n          type=\"text\"\n          className=\"loginInput\"\n          placeholder=\"Enter your username...\"\n          ref={userRef}\n        />\n        <label>Password</label>\n        <input\n          type=\"password\"\n          className=\"loginInput\"\n          placeholder=\"Enter your password...\"\n          ref={passwordRef}\n        />\n        <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>\n          Login\n        </button>\n      </form>\n      <button className=\"loginRegisterButton\">\n        <Link className=\"link\" to=\"/register\">\n          Register\n        </Link>\n      </button>\n    </div>\n  );\n}\n"],"mappings":"kSAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,CAAEC,MAAM,KAAQ,OAAO,CAC1C,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,OAAO,KAAQ,uBAAuB,CAC/C,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErB,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAG,CAC9B,GAAM,CAAAC,OAAO,CAAGR,MAAM,EAAE,CACxB,GAAM,CAAAS,WAAW,CAAGT,MAAM,EAAE,CAC5B,IAAAU,WAAA,CAAiCX,UAAU,CAACG,OAAO,CAAC,CAA5CS,QAAQ,CAAAD,WAAA,CAARC,QAAQ,CAAEC,UAAU,CAAAF,WAAA,CAAVE,UAAU,CAE5B,GAAM,CAAAC,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,CAAC,MAAAC,GAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC3BN,CAAC,CAACO,cAAc,EAAE,CAClBf,QAAQ,CAAC,CAAEgB,IAAI,CAAE,aAAc,CAAC,CAAC,CAACJ,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEd,CAAA3B,KAAK,CAAC8B,IAAI,CAAC,aAAa,CAAE,CAC1CC,QAAQ,CAAErB,OAAO,CAACsB,OAAO,CAACC,KAAK,CAC/BC,QAAQ,CAAEvB,WAAW,CAACqB,OAAO,CAACC,KAChC,CAAC,CAAC,QAHIX,GAAG,CAAAG,QAAA,CAAAU,IAAA,CAITtB,QAAQ,CAAC,CAAEgB,IAAI,CAAE,eAAe,CAAEO,OAAO,CAAEd,GAAG,CAACe,IAAK,CAAC,CAAC,CAACZ,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAa,EAAA,CAAAb,QAAA,aAEvDZ,QAAQ,CAAC,CAAEgB,IAAI,CAAE,eAAgB,CAAC,CAAC,CAAC,yBAAAJ,QAAA,CAAAc,IAAA,MAAAnB,OAAA,gBAEvC,kBAZK,CAAAL,YAAYA,CAAAyB,EAAA,SAAAxB,IAAA,CAAAyB,KAAA,MAAAC,SAAA,OAYjB,CAED,mBACElC,KAAA,QAAKmC,SAAS,CAAC,OAAO,CAAAC,QAAA,eACpBtC,IAAA,SAAMqC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,OAAK,EAAO,cACzCpC,KAAA,SAAMmC,SAAS,CAAC,WAAW,CAACE,QAAQ,CAAE9B,YAAa,CAAA6B,QAAA,eACjDtC,IAAA,UAAAsC,QAAA,CAAO,UAAQ,EAAQ,cACvBtC,IAAA,UACEuB,IAAI,CAAC,MAAM,CACXc,SAAS,CAAC,YAAY,CACtBG,WAAW,CAAC,wBAAwB,CACpCC,GAAG,CAAErC,OAAQ,EACb,cACFJ,IAAA,UAAAsC,QAAA,CAAO,UAAQ,EAAQ,cACvBtC,IAAA,UACEuB,IAAI,CAAC,UAAU,CACfc,SAAS,CAAC,YAAY,CACtBG,WAAW,CAAC,wBAAwB,CACpCC,GAAG,CAAEpC,WAAY,EACjB,cACFL,IAAA,WAAQqC,SAAS,CAAC,aAAa,CAACd,IAAI,CAAC,QAAQ,CAACmB,QAAQ,CAAElC,UAAW,CAAA8B,QAAA,CAAC,OAEpE,EAAS,GACJ,cACPtC,IAAA,WAAQqC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cACrCtC,IAAA,CAACH,IAAI,EAACwC,SAAS,CAAC,MAAM,CAACM,EAAE,CAAC,WAAW,CAAAL,QAAA,CAAC,UAEtC,EAAO,EACA,GACL,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}